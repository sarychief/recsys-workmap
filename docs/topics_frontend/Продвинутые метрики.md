- [[#MAP vs nDCG?]]

---
## **1. –û—Ñ–ª–∞–π–Ω –º–µ—Ç—Ä–∏–∫–∏ (Offline Metrics)**

üìå **–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º–æ–¥–µ–ª–∏**, –æ—Ü–µ–Ω–∏–≤–∞—é—Ç —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### **1.1. –ú–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ (Accuracy Metrics)**

–ò–∑–º–µ—Ä—è—é—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ —Å–∏—Å—Ç–µ–º–∞ —É–≥–∞–¥—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.

#### **1.1.1. Precision@K** (–¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ K —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö)

$$\text{Precision@K} = \frac{|\text{relevant items} \cap \text{recommended items}@K|}{K}$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –ò–∑ –≤—Å–µ—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Å–∫–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±—ã–ª–∏ –ø–æ–ª–µ–∑–Ω—ã?  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –ï—Å–ª–∏ –≤–∞–∂–Ω–∞ **—á–∏—Å—Ç–æ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ø-5 —Ñ–∏–ª—å–º–æ–≤).

---

#### **1.1.2. Recall@K** (–ü–æ–ª–Ω–æ—Ç–∞ –Ω–∞ K —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö)

Recall@K=‚à£relevant¬†items‚à©recommended¬†items@K‚à£‚à£all¬†relevant¬†items‚à£\text{Recall@K} = \frac{|\text{relevant items} \cap \text{recommended items}@K|}{|\text{all relevant items}|}

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –ò–∑ –≤—Å–µ—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Å–∫–æ–ª—å–∫–æ –º—ã —É–≥–∞–¥–∞–ª–∏?  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –ï—Å–ª–∏ –≤–∞–∂–Ω–æ **–Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –≤–∞–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤–∞–∫–∞–Ω—Å–∏–π).

---

#### **1.1.3. MAP@K (Mean Average Precision)**

MAP@K=1‚à£U‚à£‚àëu=1‚à£U‚à£1K‚àëk=1KP(k)‚ãÖrel(k)MAP@K = \frac{1}{|U|} \sum_{u=1}^{|U|} \frac{1}{K} \sum_{k=1}^{K} P(k) \cdot rel(k)

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –°—Ä–µ–¥–Ω–µ–µ Precision@K, —É—á–∏—Ç—ã–≤–∞—é—â–µ–µ **–ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –ï—Å–ª–∏ –≤–∞–∂–Ω–æ **–Ω–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å, –Ω–æ –∏ –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ**.

---

### **1.2. –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è (Ranking Metrics)**

–û—Ü–µ–Ω–∏–≤–∞—é—Ç –ø–æ—Ä—è–¥–æ–∫ –≤—ã–¥–∞—á–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

#### **1.2.1. NDCG@K (Normalized Discounted Cumulative Gain)**

$$NDCG@K = \frac{DCG@K}{IDCG@K}, \quad DCG@K = \sum_{i=1}^{K} \frac{\text{rel}_i}{\log_2(i+1)}$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –ß–µ–º **–≤—ã—à–µ** —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç –≤ —Å–ø–∏—Å–∫–µ, —Ç–µ–º **–ª—É—á—à–µ**.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –í –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö —Å—Ç–∞—Ç–µ–π, —Ñ–∏–ª—å–º–æ–≤.

---

#### **1.2.2. MRR (Mean Reciprocal Rank)**

$$MRR = \frac{1}{|U|} \sum_{u=1}^{|U|} \frac{1}{\text{rank of first relevant item}}$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –ß–µ–º —Ä–∞–Ω—å—à–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è **–ø–µ—Ä–≤—ã–π –ø–æ–ª–µ–∑–Ω—ã–π –æ–±—ä–µ–∫—Ç**, —Ç–µ–º –ª—É—á—à–µ.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –í —á–∞—Ç-–±–æ—Ç–∞—Ö, –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.



# MAP vs nDCG?
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MAP@K**, –µ—Å–ª–∏:
    
    - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –±–∏–Ω–∞—Ä–Ω–∞—è.
        
    - –í–∞–∂–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ç–æ–ø-K.
        
    - –ü–æ—Ä—è–¥–æ–∫ —Å—Ä–µ–¥–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ç–æ–≤–∞—Ä—ã –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã).
        
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ nDCG@K**, –µ—Å–ª–∏:
    
    - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç —Å—Ç–µ–ø–µ–Ω–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–µ–π—Ç–∏–Ω–≥–∏ 1‚Äì5).
        
    - –ö—Ä–∏—Ç–∏—á–µ–Ω –ø–æ—Ä—è–¥–æ–∫ (–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã—à–µ).
        
    - –û—à–∏–±–∫–∏ –Ω–∞ –ø–µ—Ä–≤—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö –≤–∞–∂–Ω–µ–µ, —á–µ–º –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö.
---

### **1.3. –ú–µ—Ç—Ä–∏–∫–∏ –Ω–æ–≤–∏–∑–Ω—ã –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è**

–ò–∑–º–µ—Ä—è—é—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ **—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã–µ –∏ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ**.

#### **1.3.1. Diversity (–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ)**

$$\text{Diversity} = 1 - \frac{1}{|U|} \sum_{u} \frac{1}{K^2} \sum_{i,j} \text{sim}(i, j)$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ä–∞–∑–Ω—ã–º–∏**, –∞ –Ω–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –í e-commerce (–µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –∫—É–ø–∏–ª –Ω–æ—É—Ç–±—É–∫, –Ω–µ –Ω–∞–¥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å 5 —Ç–∞–∫–∏—Ö –∂–µ).

---

#### **1.3.2. Novelty (–ù–æ–≤–∏–∑–Ω–∞)**

$$\text{Novelty} = -\sum p(i) \log p(i)$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å **—Ä–µ–¥–∫–∏–µ –∏–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –í –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π).

---

#### **1.3.3. Serendipity (–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç—å)**

$$\text{Serendipity} = \frac{1}{|U|} \sum_{u} \frac{1}{K} \sum_{i} (1 - P(i|u)) \cdot rel(i)$$

üîπ **–ò–Ω—Ç—É–∏—Ü–∏—è:** –•–æ—Ä–æ—à–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è ‚Äî —ç—Ç–æ **–ø—Ä–∏—è—Ç–Ω—ã–π —Å—é—Ä–ø—Ä–∏–∑**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—á–µ–≤–∏–¥–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ.  
üîπ **–ö–æ–≥–¥–∞ –≤–∞–∂–µ–Ω:** –í –∫–∏–Ω–æ, –º—É–∑—ã–∫–µ, –∫–Ω–∏–≥–∞—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∂–∞–Ω—Ä–∞).
